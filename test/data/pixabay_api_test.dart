import 'package:flutter_test/flutter_test.dart';
import 'package:image_search_app/data/pixabay_api.dart';
import 'package:mockito/annotations.dart';
import 'package:http/http.dart' as http;
import 'package:mockito/mockito.dart';
import 'pixabay_api_test.mocks.dart';

String fakeJsonBody = """
{
    "total": 9186,
    "totalHits": 500,
    "hits": [
        {
            "id": 8175062,
            "pageURL": "https://pixabay.com/photos/tree-rain-milky-way-night-nature-8175062/",
            "type": "photo",
            "tags": "tree, rain, milky way",
            "previewURL": "https://cdn.pixabay.com/photo/2023/08/07/13/44/tree-8175062_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g8a039aa9ca4aa1a23325653babd0e397b21e182b9d34bd992d6aa586d098275f460b8ffd95533b676ec68036e6c5295f09bfa216e92f43a5da5fd00618c4063e_640.jpg",
            "webformatWidth": 427,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gfe44ea098f3dfa95b0cd693ad134e463475e4f743ca2200a3dcc7c62b2ee6e905090ceb633d91f934b7397680ae8e552026864991f22f64969faee575e654963_1280.jpg",
            "imageWidth": 5304,
            "imageHeight": 7952,
            "imageSize": 14785547,
            "views": 100017,
            "downloads": 74707,
            "collections": 238,
            "likes": 308,
            "comments": 44,
            "user_id": 5139674,
            "user": "RonaldPlett",
            "userImageURL": "https://cdn.pixabay.com/user/2024/05/28/03-21-26-205_250x250.jpg"
        },
        {
            "id": 1192032,
            "pageURL": "https://pixabay.com/photos/girl-smartphone-iphone-1192032/",
            "type": "photo",
            "tags": "girl, smartphone, iphone",
            "previewURL": "https://cdn.pixabay.com/photo/2016/02/10/16/39/girl-1192032_150.jpg",
            "previewWidth": 150,
            "previewHeight": 99,
            "webformatURL": "https://pixabay.com/get/g1f325c636fd48ca6628021061fa599c3b4bbd9edb6fbe5ad64b85f0ff7b07c0915acdd650e4283bb0758c5e3ba2d136347d2e32cbc4bde825d996829446c4b18_640.jpg",
            "webformatWidth": 640,
            "webformatHeight": 426,
            "largeImageURL": "https://pixabay.com/get/gbaaa387a2e3a7074295c9d7bf9d16af721bffbb82cee1e6e72f25917c96837e82ff1e6b5d993ccb09d47932b5f839c5b964e92b27a0309781d2b65761c02d506_1280.jpg",
            "imageWidth": 2048,
            "imageHeight": 1367,
            "imageSize": 299773,
            "views": 134980,
            "downloads": 76740,
            "collections": 295,
            "likes": 203,
            "comments": 21,
            "user_id": 725943,
            "user": "janeb13",
            "userImageURL": "https://cdn.pixabay.com/user/2016/02/25/23-52-46-967_250x250.jpg"
        },
        {
            "id": 1867461,
            "pageURL": "https://pixabay.com/photos/apple-iphone-close-up-smartphone-1867461/",
            "type": "photo",
            "tags": "apple, iphone, close up",
            "previewURL": "https://cdn.pixabay.com/photo/2016/11/29/05/08/apple-1867461_150.jpg",
            "previewWidth": 150,
            "previewHeight": 100,
            "webformatURL": "https://pixabay.com/get/g3f89b715e39551b056239f27c11d3a25873b4c7c3694fa2137489aaef1343451bbd788d5548501b4db0e595e3fb685ab760e21e5f56e357117a31bc358f55c16_640.jpg",
            "webformatWidth": 640,
            "webformatHeight": 427,
            "largeImageURL": "https://pixabay.com/get/g2459fef6a3b0c227eb9d6b437b64ee064c58c77ba9af2b446841438093fec569d622eea69703ea47fa9f63278b77ce625c4f4adf841df373617c9acaaa454e61_1280.jpg",
            "imageWidth": 5252,
            "imageHeight": 3507,
            "imageSize": 1410507,
            "views": 93018,
            "downloads": 57836,
            "collections": 181,
            "likes": 160,
            "comments": 26,
            "user_id": 2286921,
            "user": "Pexels",
            "userImageURL": "https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg"
        },
        {
            "id": 4960675,
            "pageURL": "https://pixabay.com/photos/plant-nature-leaves-macro-garden-4960675/",
            "type": "photo",
            "tags": "plant, nature, leaves",
            "previewURL": "https://cdn.pixabay.com/photo/2020/03/23/12/08/plant-4960675_150.jpg",
            "previewWidth": 118,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g9a15aecb45c65f0648fda69925f1e0b91bda6a2bcc1ef3b8a2fb97925b3d09dc299361ba241bf51330a2eb52a1011d88273a53774b00f3364b49d26837e189fe_640.jpg",
            "webformatWidth": 506,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gf7677e84ebc4aa88d0d47d7b49be26af94b50fe18d746352edb279233529744e8f456da75f8c0231e125d7ec4c5406293cadd4b377ca3656195bb8375fa4c469_1280.jpg",
            "imageWidth": 4000,
            "imageHeight": 5059,
            "imageSize": 3909519,
            "views": 69775,
            "downloads": 59671,
            "collections": 234,
            "likes": 149,
            "comments": 19,
            "user_id": 2493539,
            "user": "paulsteuber",
            "userImageURL": "https://cdn.pixabay.com/user/2018/11/06/20-27-30-171_250x250.jpg"
        },
        {
            "id": 1868416,
            "pageURL": "https://pixabay.com/photos/fog-mist-ocean-sea-water-wave-1868416/",
            "type": "photo",
            "tags": "fog, mist, ocean",
            "previewURL": "https://cdn.pixabay.com/photo/2016/11/29/08/27/fog-1868416_150.jpg",
            "previewWidth": 99,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/gd90989ddf1f11011d85035ebeb1ec5cf5be108feec6c0d39fe344382110b980b5896b606da2f26d506b16a40b996cb18b64668fe004a76e12ab1fe3599a1964e_640.jpg",
            "webformatWidth": 424,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gf4c6d65aa7db49757fe64c468cce848204c783e22b545d951d0403573f599d4a4f02576b877a3c1a40f007897df0f3d516f263cae0dd9de40872d3fb2c5863b9_1280.jpg",
            "imageWidth": 3264,
            "imageHeight": 4928,
            "imageSize": 1816520,
            "views": 162162,
            "downloads": 130582,
            "collections": 371,
            "likes": 244,
            "comments": 23,
            "user_id": 2286921,
            "user": "Pexels",
            "userImageURL": "https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg"
        },
        {
            "id": 7855153,
            "pageURL": "https://pixabay.com/photos/sea-moon-sunset-water-dusk-7855153/",
            "type": "photo",
            "tags": "sea, moon, sunset",
            "previewURL": "https://cdn.pixabay.com/photo/2023/03/15/18/14/sea-7855153_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g692d095982ac45c920d0221606ff5c1f24591f800f972608068e5487971d7dcd0a4b0090c04534cc36a1fa386a9165e47e66e023531cc23c0ca824fe2738df89_640.jpg",
            "webformatWidth": 427,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/geaaf090126a6c588bc4a7b606c33328aad3702a6cc88da44392d16a86642ddd75781c0aa79bd740530c2683998409b5328294380183f1d09f6d50880c3261d05_1280.jpg",
            "imageWidth": 4000,
            "imageHeight": 6000,
            "imageSize": 8780416,
            "views": 144378,
            "downloads": 126256,
            "collections": 318,
            "likes": 271,
            "comments": 25,
            "user_id": 5386389,
            "user": "LeoEspina",
            "userImageURL": "https://cdn.pixabay.com/user/2019/04/22/20-41-13-445_250x250.jpg"
        },
        {
            "id": 1093641,
            "pageURL": "https://pixabay.com/photos/macbook-iphone-technology-apple-1093641/",
            "type": "photo",
            "tags": "macbook, iphone, technology",
            "previewURL": "https://cdn.pixabay.com/photo/2015/12/15/03/56/macbook-1093641_150.jpg",
            "previewWidth": 150,
            "previewHeight": 99,
            "webformatURL": "https://pixabay.com/get/g182f8f43c6a658ec76237899a6048b2b49cd876d0d8f7a9ad8cac9f4e525af36df9af9ad1af7bc5218250817275024ca3babb8eca6b8c24e1b39ee52203271c4_640.jpg",
            "webformatWidth": 640,
            "webformatHeight": 426,
            "largeImageURL": "https://pixabay.com/get/gbb3b0d77fba5c04ffbee09dcbef7fbe7e447e768152dd3faf7c8c7f8cf14468fb39f1a8d92ba75e04d417ba6f38e8060d4106b8143743719fafa76da40056dac_1280.jpg",
            "imageWidth": 5184,
            "imageHeight": 3456,
            "imageSize": 4622460,
            "views": 91119,
            "downloads": 67171,
            "collections": 182,
            "likes": 111,
            "comments": 22,
            "user_id": 498081,
            "user": "tranmautritam",
            "userImageURL": "https://cdn.pixabay.com/user/2015/01/22/05-13-32-817_250x250.jpg"
        },
        {
            "id": 5987093,
            "pageURL": "https://pixabay.com/photos/laptop-mobile-phone-table-phone-5987093/",
            "type": "photo",
            "tags": "laptop, mobile phone, table",
            "previewURL": "https://cdn.pixabay.com/photo/2021/02/06/07/02/laptop-5987093_150.jpg",
            "previewWidth": 150,
            "previewHeight": 100,
            "webformatURL": "https://pixabay.com/get/gf708c4370738114f3f7805d36263c111c405916bed2a2add949e6b329d712240ff8f9e464f9f242195f4380bef1aee6940dd130f211c79e43bc3b8723ec1dbe9_640.jpg",
            "webformatWidth": 640,
            "webformatHeight": 426,
            "largeImageURL": "https://pixabay.com/get/g07aa1b6460ad747456d0ad6033b1f3ac67e43d464c06846ccce7e1f4632da2a470b29684853b43ddd0a476d2a737914964ce8addaeab43cf5278fd4b09d9b68e_1280.jpg",
            "imageWidth": 4029,
            "imageHeight": 2681,
            "imageSize": 2360293,
            "views": 31540,
            "downloads": 21955,
            "collections": 70,
            "likes": 61,
            "comments": 15,
            "user_id": 5099306,
            "user": "kieutruongphoto",
            "userImageURL": "https://cdn.pixabay.com/user/2021/09/03/12-10-14-149_250x250.jpg"
        },
        {
            "id": 7997506,
            "pageURL": "https://pixabay.com/photos/green-lacewing-bug-insect-nature-7997506/",
            "type": "photo",
            "tags": "green lacewing, bug, insect",
            "previewURL": "https://cdn.pixabay.com/photo/2023/05/16/13/02/green-lacewing-7997506_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/gb4907d23c228477574dcb98a660d680b2e9e7cbfcd5227d37b6c210c1de28e5e631c31e404f634ac2e120f0c488ace77d71b58bb9ae3dea4f0db019d05dc79aa_640.jpg",
            "webformatWidth": 427,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gb082b180f2ca769fdef0be813b63038c14bffff6378096af40270cb6e9f0694c732dffd86ac4fd43e6633b083e2a016e70ee8d5e9b7c617d073f51eaf6fe94a5_1280.jpg",
            "imageWidth": 4480,
            "imageHeight": 6720,
            "imageSize": 10110098,
            "views": 32920,
            "downloads": 27827,
            "collections": 49,
            "likes": 129,
            "comments": 26,
            "user_id": 15012370,
            "user": "Erik_Karits",
            "userImageURL": "https://cdn.pixabay.com/user/2023/07/10/21-13-28-133_250x250.jpg"
        },
        {
            "id": 3489394,
            "pageURL": "https://pixabay.com/photos/lighting-lightbulb-ideas-background-3489394/",
            "type": "photo",
            "tags": "lighting, lightbulb, ideas",
            "previewURL": "https://cdn.pixabay.com/photo/2018/06/21/20/22/lighting-3489394_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g18bfc6064a301cd4ac87c9e6b1bbd6eff38ba63683ebea5dba8925acca32281bb085fcff471d5b7794282415eae153bbbd847f996be65a5441155945bd788b49_640.jpg",
            "webformatWidth": 426,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gf1c6f57fd2b0d578af809003426d0bb450edc0a6ff7f09ec4244eab7b12e332f301f96e97e7eeb88cc5d9720c0cede01dcdd97cdae126a773b513c6d4ecf9376_1280.jpg",
            "imageWidth": 2802,
            "imageHeight": 4203,
            "imageSize": 1472570,
            "views": 311985,
            "downloads": 240889,
            "collections": 419,
            "likes": 391,
            "comments": 55,
            "user_id": 1161770,
            "user": "Bru-nO",
            "userImageURL": "https://cdn.pixabay.com/user/2023/04/18/15-01-28-484_250x250.jpg"
        },
        {
            "id": 298243,
            "pageURL": "https://pixabay.com/photos/smoke-abstract-background-fumes-298243/",
            "type": "photo",
            "tags": "smoke, abstract, background",
            "previewURL": "https://cdn.pixabay.com/photo/2014/03/25/22/53/smoke-298243_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g7af71c244c0289fdd965a389074cb488a226a99ab85810c31e54f16c45bbf545c47cd790d3c9d6b47584ab267cb2aad3_640.jpg",
            "webformatWidth": 425,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gee9fd4cfbbe68bf8e1ce2e84b619f218578e0a7440936400e431fbd701aae1281ee1f81daf8d599beeb391e92931f6709cb4345e0fc2b3272d8a5c8c5bd69cdb_1280.jpg",
            "imageWidth": 2848,
            "imageHeight": 4288,
            "imageSize": 2236073,
            "views": 831716,
            "downloads": 633971,
            "collections": 894,
            "likes": 768,
            "comments": 119,
            "user_id": 168090,
            "user": "goranmx",
            "userImageURL": ""
        },
        {
            "id": 5173654,
            "pageURL": "https://pixabay.com/photos/mountain-andes-patagonia-argentina-5173654/",
            "type": "photo",
            "tags": "mountain, andes, patagonia",
            "previewURL": "https://cdn.pixabay.com/photo/2020/05/15/13/58/mountain-5173654_150.jpg",
            "previewWidth": 104,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/gc43237b5c35b380fec8709d7aefc0e9c408f5e7c3220e819a949f5c94b3a112339e764e36431452719b2904e79b13afd5c4df446717bf8fbec7a60559919f714_640.jpg",
            "webformatWidth": 443,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/ge16b888509c0af65a628caebdb2540f9a2109bd9d9e8f1607274cf4745b1ca40ff590a8043f01f616aba236ad1b7b8cd48d132b9d0eff8b987dae6729d5b255e_1280.jpg",
            "imageWidth": 2442,
            "imageHeight": 3525,
            "imageSize": 3312024,
            "views": 113610,
            "downloads": 87255,
            "collections": 237,
            "likes": 238,
            "comments": 21,
            "user_id": 18044,
            "user": "sebadelval",
            "userImageURL": "https://cdn.pixabay.com/user/2013/01/11/01-08-42-862_250x250.jpg"
        },
        {
            "id": 1867759,
            "pageURL": "https://pixabay.com/photos/home-office-computer-desk-display-1867759/",
            "type": "photo",
            "tags": "home office, computer, desk",
            "previewURL": "https://cdn.pixabay.com/photo/2016/11/29/06/18/home-office-1867759_150.jpg",
            "previewWidth": 150,
            "previewHeight": 100,
            "webformatURL": "https://pixabay.com/get/g7ce9249c2fac802d364c21d40dd13afdc516e41847bbe5b123289e5cf81682d735c8c4f0245501403cb82190fe0862ba0bdb61994c45a89814f63858c22aa502_640.jpg",
            "webformatWidth": 640,
            "webformatHeight": 427,
            "largeImageURL": "https://pixabay.com/get/g3a2758c8df57c145ed33ee73f0c83ab30ee5174d67495a850cbef9178d5f5cf2815ff4ec1a53548c9982bb9f5ed44545699accc7947a0bf203d8b8db8e69ff05_1280.jpg",
            "imageWidth": 4000,
            "imageHeight": 2669,
            "imageSize": 1741855,
            "views": 144400,
            "downloads": 102615,
            "collections": 353,
            "likes": 237,
            "comments": 30,
            "user_id": 2286921,
            "user": "Pexels",
            "userImageURL": "https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg"
        },
        {
            "id": 6589852,
            "pageURL": "https://pixabay.com/photos/forest-nature-trees-woods-outdoors-6589852/",
            "type": "photo",
            "tags": "forest, nature, trees",
            "previewURL": "https://cdn.pixabay.com/photo/2021/08/31/18/51/forest-6589852_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g32021a917057df7cd077c205d05400e4d3ba14c78c822cbf4f947ea47c4aabb95a501521e5b569cbe750e706da2b6f820dac90759ec525b477b1ac3911e13a73_640.jpg",
            "webformatWidth": 427,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gc66b6e79e2ca6c53f16f1c9b36396c5bd365925bcc77ffb6fb8d4a2ec71da24efc0861499178a83de72331b07fdbdd9526aa27403123402c5243f95783870635_1280.jpg",
            "imageWidth": 3969,
            "imageHeight": 5953,
            "imageSize": 10130472,
            "views": 139801,
            "downloads": 111237,
            "collections": 203,
            "likes": 140,
            "comments": 13,
            "user_id": 1537217,
            "user": "daschorsch",
            "userImageURL": "https://cdn.pixabay.com/user/2021/08/18/19-58-17-834_250x250.jpg"
        },
        {
            "id": 6706182,
            "pageURL": "https://pixabay.com/photos/alps-mountains-fog-clouds-nature-6706182/",
            "type": "photo",
            "tags": "alps, mountains, fog",
            "previewURL": "https://cdn.pixabay.com/photo/2021/10/13/10/55/alps-6706182_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g032f92d188a43b7ce0dc71e1a17e2d22dc5c22d85e3d29f30cec1cb544510723400c5f0d0924de71dd5e8b83ebd22118660efa32a320b817fc207e2a40e5342e_640.jpg",
            "webformatWidth": 427,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/g18a631fe8c0c8467286f96d84257c2577efa0ff95b7f3057a4d58591ced5b59eaf5acc096d10e7d75b969face099958c3982dcba0c1f6dfe18c78abaf1406729_1280.jpg",
            "imageWidth": 2160,
            "imageHeight": 3240,
            "imageSize": 961025,
            "views": 137779,
            "downloads": 121894,
            "collections": 185,
            "likes": 116,
            "comments": 16,
            "user_id": 23331959,
            "user": "chriszwettler",
            "userImageURL": "https://cdn.pixabay.com/user/2021/09/16/00-40-44-883_250x250.jpg"
        },
        {
            "id": 5106327,
            "pageURL": "https://pixabay.com/photos/sea-waves-coast-surfing-surfers-5106327/",
            "type": "photo",
            "tags": "sea, waves, coast",
            "previewURL": "https://cdn.pixabay.com/photo/2020/04/28/21/01/sea-5106327_150.jpg",
            "previewWidth": 112,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g041c26551ef049a9eba2a74b68924bdcec79295c4716f60ba2c4aaea80693e95cefb1a7d9c706ebe54b476edbf201231c0559f2bd2e667cc828d21064ce7281c_640.jpg",
            "webformatWidth": 480,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/g92fce0f57c7740b6805c4738ffdca22b577c37f8c28d85c69b943887c6c86e7b78dfddca0e74f67813a4625bbdbd0d34cc1ed6c49b9d3a79c5283eaa517961c9_1280.jpg",
            "imageWidth": 3000,
            "imageHeight": 4000,
            "imageSize": 5663942,
            "views": 86216,
            "downloads": 67769,
            "collections": 242,
            "likes": 150,
            "comments": 12,
            "user_id": 16280042,
            "user": "MannyDream",
            "userImageURL": "https://cdn.pixabay.com/user/2021/01/10/17-57-44-828_250x250.jpg"
        },
        {
            "id": 1867757,
            "pageURL": "https://pixabay.com/photos/woman-music-fit-fitness-technology-1867757/",
            "type": "photo",
            "tags": "woman, music, fit",
            "previewURL": "https://cdn.pixabay.com/photo/2016/11/29/06/17/woman-1867757_150.jpg",
            "previewWidth": 150,
            "previewHeight": 99,
            "webformatURL": "https://pixabay.com/get/g1d5c087d231ca5d839bd24b6b180053b0b70ffae3ffff3fa7b767e1b0c38224ca4313d0db17b380273a57f3c4059e6bea87a83f9653e3f644daac5fba1bafb6a_640.jpg",
            "webformatWidth": 640,
            "webformatHeight": 426,
            "largeImageURL": "https://pixabay.com/get/ge2c8be17a500db224fd39ac57d86f01024f94acc0fdff60b8091ac9b8420411bf49fbfd5a7b015287232222eec29502a9f7079a047a4eac044be7ba937df6bd4_1280.jpg",
            "imageWidth": 4000,
            "imageHeight": 2667,
            "imageSize": 1752858,
            "views": 121659,
            "downloads": 72534,
            "collections": 266,
            "likes": 180,
            "comments": 13,
            "user_id": 2286921,
            "user": "Pexels",
            "userImageURL": "https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg"
        },
        {
            "id": 5095258,
            "pageURL": "https://pixabay.com/photos/grass-flowers-plant-bloom-blossom-5095258/",
            "type": "photo",
            "tags": "grass, flowers, plant",
            "previewURL": "https://cdn.pixabay.com/photo/2020/04/26/13/36/grass-5095258_150.jpg",
            "previewWidth": 106,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g3ef08915080cda64167e52040d2d460985a770a6055f2650651e1026d40aa2233b1230df77465a1b1aafa8ceb5aeb24b820f42131fcf9f0b501540d8b8a8a09c_640.jpg",
            "webformatWidth": 452,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/g7ec0a4b09e69d0cbe3851e011cf1002b97874f60fedb72b460c2dfc40b215268098712ba1aeba0bc867fd9f8527b712907c85ee1fd6a2049618fb09c5e37b426_1280.jpg",
            "imageWidth": 2578,
            "imageHeight": 3647,
            "imageSize": 1028254,
            "views": 51538,
            "downloads": 36856,
            "collections": 225,
            "likes": 141,
            "comments": 15,
            "user_id": 15853958,
            "user": "jessicakwok",
            "userImageURL": "https://cdn.pixabay.com/user/2020/07/01/03-33-43-762_250x250.jpg"
        },
        {
            "id": 4950141,
            "pageURL": "https://pixabay.com/photos/subway-stairs-stair-handrail-4950141/",
            "type": "photo",
            "tags": "subway stairs, stair handrail, subway exit",
            "previewURL": "https://cdn.pixabay.com/photo/2020/03/20/09/38/subway-stairs-4950141_150.jpg",
            "previewWidth": 112,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g8e09c741ed56006e7aa73749af8de79489d5b2106b6da1e9ceaba9d421f81dc84462e94ec8fda87ed5c08dacb300ab6d8efe33e7bba3bc34415d60fbb359297b_640.jpg",
            "webformatWidth": 480,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gf1eab6019702ae2c4a8d133abd35135352bd643e8f88b5356c360753a3d19bda1fcdc01f1efcb6bcf91c6f4839a10470751eef22e33dfebd98088d2c37e9f9a8_1280.jpg",
            "imageWidth": 2539,
            "imageHeight": 3385,
            "imageSize": 1236185,
            "views": 83367,
            "downloads": 78116,
            "collections": 151,
            "likes": 125,
            "comments": 9,
            "user_id": 15669462,
            "user": "zj900430",
            "userImageURL": "https://cdn.pixabay.com/user/2020/03/20/09-35-34-313_250x250.jpg"
        },
        {
            "id": 6612075,
            "pageURL": "https://pixabay.com/photos/sunset-woman-street-portrait-city-6612075/",
            "type": "photo",
            "tags": "sunset, woman, phone wallpaper",
            "previewURL": "https://cdn.pixabay.com/photo/2021/09/10/04/24/sunset-6612075_150.jpg",
            "previewWidth": 100,
            "previewHeight": 150,
            "webformatURL": "https://pixabay.com/get/g7f98b02d4d503bc47c31f31e56acf8620ef6e0253e8cf293bf81e21860804cdf84074514fb8b037088543a7260f86024a5cc18bf0bc5250baf11793c072af32c_640.jpg",
            "webformatWidth": 426,
            "webformatHeight": 640,
            "largeImageURL": "https://pixabay.com/get/gb069fb52a0a898a6bc7a79fc0c09454c49045247506dbe3996384fa5a837cc5855eded0108840b0a75f1cd5babed654a5ff755f2becd35c43d5c0b7fb39cdf98_1280.jpg",
            "imageWidth": 4024,
            "imageHeight": 6048,
            "imageSize": 6714206,
            "views": 68987,
            "downloads": 62901,
            "collections": 74,
            "likes": 88,
            "comments": 10,
            "user_id": 12868140,
            "user": "Chuotanhls",
            "userImageURL": "https://cdn.pixabay.com/user/2024/04/17/11-31-48-43_250x250.jpg"
        }
    ]
}
""";

@GenerateMocks([http.Client])
void main() {
  test("pixabay data test using pixabay api", () async {
    final client = MockClient();
    final api = PixabayApi();

    when(client.get(Uri.parse(
            '${PixabayApi.baseUrl}/?key=${PixabayApi.key}&q=iphone&image_type=photo&pretty=true')))
        .thenAnswer((_) async => http.Response(fakeJsonBody, 200));

    final result = await api.fetch("iphone", client: client);

    expect(result.length, 20);
  });
}
